### üìÑ ADR-023 : D√©couplage de l'Interface de Monitoring (Web Dashboard)

**Date :** 02 Janvier 2026
**Statut :** En cours d'impl√©mentation

**Contexte**
Actuellement, l'observabilit√© du syst√®me repose enti√®rement sur la sortie standard (Console/Terminal). Cela pose plusieurs probl√®mes majeurs :
1.  **Saturation** : Avec 4 processus parall√®les (Oreille, Cerveau, Bouche, Analyste), les logs d√©filent trop vite pour √™tre lisibles.
2.  **Invisibilit√© de l'√âtat** : L'√©tat interne du graphe (les poids $W$ et l'activation $A$) √©volue en temps r√©el en RAM, mais n'est visible que lors d'exports textuels sporadiques. Il est impossible de "voir" l'Ignition se produire.
3.  **Debug LLM difficile** : Il est ardu de corr√©ler une r√©ponse √©trange de l'IA avec le Prompt exact qui l'a g√©n√©r√©e sans fouiller dans des fichiers logs bruts.
4.  **Ergonomie** : Le copier-coller de fragments de texte depuis un terminal en mouvement est complexe.

**D√©cision**
Nous adoptons une architecture de **Monitoring D√©coupl√© (Sidecar Observer)** :

1.  **S√©paration des R√¥les** : Le moteur cognitif (`main.py`) ne g√®re **aucun** affichage graphique. Il se concentre sur le calcul.
2.  **Protocole de T√©l√©mesure** : Le moteur exporte son √©tat interne √† haute fr√©quence via des fichiers tampons sur le disque local :
    *   `brain_activity.json` (√âtat instantan√© du Graphe : Poids, Activation, Fatigue).
    *   `llm_trace.jsonl` (Historique s√©quentiel des Inputs/Outputs du LLM).
    *   `journal.jsonl` (Logs syst√®me existants).
3.  **Interface Web Autonome** : Un serveur l√©ger (**FastAPI**) tourne dans un processus s√©par√© (`server.py`). Il expose ces fichiers via une API REST et sert une interface HTML/JS (`dashboard.html`).

**Architecture Technique**
*   **Backend** : FastAPI + Uvicorn (l√©ger, asynchrone).
*   **Frontend** : HTML5 + Bootstrap + Vanilla JS (Polling toutes les 1s).
*   **Donn√©es** : Les fichiers JSON servent de "Bus de communication" unidirectionnel (Moteur -> Dashboard).

**Justification**
1.  **Performance (Non-Bloquant)** : L'√©criture d'un petit JSON (Top 15 n≈ìuds) est n√©gligeable pour le moteur. Si le navigateur ou le serveur Web plante, le syst√®me Oc√©ane continue de fonctionner sans interruption.
2.  **Richesse Visuelle** : Une interface Web permet d'utiliser des jauges de couleur pour l'Activation (Rose) et le Poids Structurel (Vert), rendant la dynamique du syst√®me compr√©hensible en un coup d'≈ìil.
3.  **Flexibilit√©** : Permet d'avoir plusieurs vues (Colonnes, Onglets) et facilite le copier-coller des logs ou des prompts pour le d√©bogage.

**Cons√©quences**
*   **Positives** : Observabilit√© totale en temps r√©el. Distinction claire entre "Ce que le syst√®me entend" (Logs), "Ce qu'il pense" (Graphe) et "Ce qu'il dit" (LLM).
*   **N√©gatives** : N√©cessite de lancer deux scripts (`python main.py` et `python server.py`) pour avoir l'exp√©rience compl√®te. Ajoute des d√©pendances (`fastapi`, `uvicorn`, `jinja2`).
*   **Att√©nuation** : Un script de lancement global (`start_all.bat` ou `.sh`) pourra automatiser le d√©marrage des deux processus.